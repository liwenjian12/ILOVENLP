# Edge Detection （边缘检测）
<!--TOC-->

- [介绍](#介绍)
- [步骤](#步骤)
  - [Step1:滤波](#Step1:滤波)
  - [Step2:增强](#Step2:增强)
  - [Step3:检测](#Step3:检测)
- [检测边缘](#检测边缘)
- [阈值确定](#阈值确定)
- [边缘检测算子](#边缘检测算子)
- [图像定位](#图像定位)
<!--/TOC-->

## 介绍
边缘检测是图像处理和计算机视觉中的基本问题，边缘检测的目的是标识数字图像中亮度变化明显的点。图像 
**属性中的显著变化通常反映了属性的重要事件和变化 ** 。

这些包括
1、深度上的不连续、
2、表面方向不连续、
3、物质属性变化和
4、场景照明变化。 
边缘检测是图像处理和计算机视觉中，尤其是特征提取中的一个研究领域。
**图像边缘检测大幅度地减少了数据量，并且剔除了可以认为不相关的信息,保留了图像重要的结构属性。**

有许多方法用于边缘检测，它们的绝大部分可以划分为两类：
- 基于查找一类,边界定位在梯度最大的方向。
- 基于零穿越的一类。
基于查找的方法通过寻找图像一阶导数中的最大和最小值来检测边界，通常是将边界定位在梯度最大的方向。基于零穿越的方法通过寻找图像二阶导数零穿越来寻找边界，通常是Laplacian过零点或者非线性差分表示的过零点。

## 步骤
#### 滤波
 边缘检测的算法主要是基于图像强度的一阶和二阶函数，但导数通常对噪声很敏感，因此必须采用滤波器来改善与噪声有关的边缘检测器的性能。常见的滤波方法主要有高斯滤波，即采用离散化的高斯函数产生一组归一化的高斯核，然后基于高斯核函数对图像灰度矩阵的每一点进行加权求和。
  
#### 增强
 增强边缘的基础是确定图像各点邻域强度的变化值。增强算法可以将图像灰度点邻域强度值有显著变化的点凸显出来。
#### 检测
增强后，图像中邻域中有很多点的梯度值比较大，而在特定应用中，这些点并不是要找的边缘点，所以应该采用某种方法来对这些点取舍。常用阈值化的方法检测## 阈值确定
  一旦我们计算出导数之后，下一步要做的就是给出一个阈值来确定哪里是边缘位置。阈值越低，能够检测出的边线越多，结果也就越容易受到图片噪声的影响，并且越容易从图像中挑出不相关的特性。与此相反，一个高的阈值将会遗失细的或者短的线段。一个常用的这种方法是带有**滞后作用的阈值选择**。这个方法使用不同的阈值去寻找边缘。
  首先使用一个阈值上限去寻找边线开始的地方。
  一旦找到了一个开始点，我们在图像上逐点跟踪边缘路径，当大于门槛下限时一直纪录边缘位置，直到数值小于下限之后才停止纪录。
  这种方法假设边缘是连续的界线，并且我们能够跟踪前面所看到的边缘的模糊部分，而不会将图像中的噪声点标记为边缘。
 
 ## 边缘检测算子
 ### canny 边缘检测
 1、消除噪声：高斯平滑滤波器卷积降噪。
 2、计算梯度幅值和方向：sobel滤波器；一对卷积阵列（分别作用于x和y方向）Gx、Gy；计算幅值和方向G=sqrt(Gx^2+Gy^2),theta=arctan(Gy/Gx)
 3、非极大值抑制：排除非边缘像素，仅保留一些细线条。
 4、滞后阈值：高阈值和低阈值；>Highthores则保留为边缘像素，低于排除；连接了高域则保存
 canny函数：灰色，彩色
 ### sobel算子（灰度）
 结合了高斯平滑和微分求导，用来计算图像灰度函数的近似梯度。在图像的任何一点使用此算子，产生对应的梯度矢量或是其法向量。
 卷积使用的核不一样；
 
 各种算子的存在就是对这种导数分割原理进行的实例化计算，是为了在计算过程中直接使用的一种计算单位；

Roberts算子：边缘定位准，但是对噪声敏感。适用于边缘明显且噪声较少的图像分割。Roberts边缘检测算子是一种利用局部差分算子寻找边缘的算子,Robert算子图像处理后结果边缘不是很平滑。经分析，由于Robert算子通常会在图像边缘附近的区域内产生较宽的响应，故采用上述算子检测的边缘图像常需做细化处理，边缘定位的精度不是很高。

Prewitt算子：对噪声有抑制作用，抑制噪声的原理是通过像素平均，但是像素平均相当于对图像的低通滤波，所以Prewitt算子对边缘的定位不如Roberts算子。

Sobel算子：Sobel算子和Prewitt算子都是加权平均，但是Sobel算子认为，邻域的像素对当前像素产生的影响不是等价的，所以距离不同的像素具有不同的权值，对算子结果产生的影响也不同。一般来说，距离越远，产生的影响越小。

Isotropic Sobel算子：加权平均算子，权值反比于邻点与中心点的距离，当沿不同方向检测边缘时梯度幅度一致，就是通常所说的各向同性。


## 图像定位
如果某一应用场合要求确定边缘位置，则边缘的位置可在子像素分辨率上来估计，边缘的方位也可以被估计出来。近20多年来提出了许多边缘检测算子，在这里我们仅讨论集中常见的边缘检测算子。

参考文章：https://blog.csdn.net/KYJL888/article/details/78253053
